{"version":3,"sources":["components.js"],"names":["AFRAME","registerComponent","schema","target","type","speed","init","setInterval","directionVec3","THREE","Vector3","targetPosition","data","object3D","position","currentPosition","el","copy","sub","distance","length","factor","forEach","axis","timeDelta","setAttribute","x","y","z"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,OAAOC,iBAAP,CAAyB,OAAzB,EAAkC;AAChCC,UAAQ;AACNC,YAAQ,EAACC,MAAM,UAAP,EADF;AAENC,WAAO,EAACD,MAAM,QAAP;AAFD,GADwB;AAKhCE,QAAM,gBAAY;AAAA;;AAChBC,gBAAY,YAAM;AAChB,UAAIC,gBAAgB,IAAIC,MAAMC,OAAV,EAApB;;AAEA,UAAIC,iBAAiB,MAAKC,IAAL,CAAUT,MAAV,CAAiBU,QAAjB,CAA0BC,QAA/C;AACA,UAAIC,kBAAkB,MAAKC,EAAL,CAAQH,QAAR,CAAiBC,QAAvC;;AAEAN,oBAAcS,IAAd,CAAmBN,cAAnB,EAAmCO,GAAnC,CAAuCH,eAAvC;;AAEA,UAAII,WAAWX,cAAcY,MAAd,EAAf;;AAEA,UAAID,WAAW,CAAf,EAAkB;AAAE;AAAS;;AAE7B,UAAIE,SAAS,MAAKT,IAAL,CAAUP,KAAV,GAAkBc,UAC9B,KAAK,GAAL,EAAU,GADoB,GACfG,OADe,CACP,UAAUC,IAAV,EAAgB;AACtCf,sBAAce,IAAd,KAAuBF,UAAUG,YAAY,IAAtB,CAAvB;AACD,OAH8B,CAA/B;;AAKA,YAAKR,EAAL,CAAQS,YAAR,CAAqB,UAArB,EAAiC;AAC/BC,WAAGX,gBAAgBW,CAAhB,GAAoBlB,cAAckB,CADN;AAE/BC,WAAGZ,gBAAgBY,CAAhB,GAAoBnB,cAAcmB,CAFN;AAG/BC,WAAGb,gBAAgBa,CAAhB,GAAoBpB,cAAcoB;AAHN,OAAjC;AAKD,KAtBD,EAsBG,IAtBH;AAuBD;AA7B+B,CAAlC","file":"components.5f8edeb9.map","sourceRoot":"..","sourcesContent":["AFRAME.registerComponent('enemy', {\n  schema: {\n    target: {type: 'selector'},\n    speed: {type: 'number'}\n  },\n  init: function () {\n    setInterval(() => {\n      let directionVec3 = new THREE.Vector3()\n\n      var targetPosition = this.data.target.object3D.position\n      var currentPosition = this.el.object3D.position\n\n      directionVec3.copy(targetPosition).sub(currentPosition);\n\n      var distance = directionVec3.length();\n\n      if (distance < 1) { return; }\n\n      var factor = this.data.speed / distance\n      ['x', 'y', 'z'].forEach(function (axis) {\n        directionVec3[axis] *= factor * (timeDelta / 1000);\n      });\n\n      this.el.setAttribute('position', {\n        x: currentPosition.x + directionVec3.x,\n        y: currentPosition.y + directionVec3.y,\n        z: currentPosition.z + directionVec3.z\n      })\n    }, 1000)\n  }\n})"]}